// Code to create swatches and make them draggable goes here...

function checkForTouchingSwatches() {
    let pairs = [];
    for (let i = 0; i < swatches.length; i++) {
        for (let j = i + 1; j < swatches.length; j++) {
            if (isTouching(swatches[i], swatches[j])) {
                pairs.push([swatches[i], swatches[j]]);
            }
        }
    }
    // Remove previous gradient bands
    document.querySelectorAll('.gradient-band').forEach(el => el.remove());

    // Create new gradient bands
    pairs.forEach(pair => createGradientBand(pair[0], pair[1]));
}

function createGradientBand(a, b) {
    const aRect = a.getBoundingClientRect();
    const bRect = b.getBoundingClientRect();

    // Calculate the center positions of the swatches
    const axCenter = aRect.left + aRect.width / 2;
    const ayCenter = aRect.top + aRect.height / 2;
    const bxCenter = bRect.left + bRect.width / 2;
    const byCenter = bRect.top + bRect.height / 2;

    // Calculate distance and angle between the centers
    const distance = Math.hypot(bxCenter - axCenter, byCenter - ayCenter);
    const angle = Math.atan2(byCenter - ayCenter, bxCenter - axCenter) * 180 / Math.PI;

    // Create a new gradient band
    const gradientBand = document.createElement('div');
    gradientBand.classList.add('gradient-band');
    gradientBand.style.width = `${distance}px`;
    gradientBand.style.height = `20px`; // Arbitrary height for the gradient band
    gradientBand.style.position = 'absolute';
    gradientBand.style.top = `${ayCenter}px`;
    gradientBand.style.left = `${axCenter}px`;
    gradientBand.style.background = `linear-gradient(${angle}deg, ${a.style.backgroundColor}, ${b.style.backgroundColor})`;
    gradientBand.style.transform = `rotate(${angle}deg)`;
    gradientBand.style.transformOrigin = '0 0';

    document.getElementById('playground').appendChild(gradientBand);
}

// Existing utility functions: getType, processRGB, processHEX, and pad (unchanged)
